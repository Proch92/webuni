<div class="d-flex flex-row justify-content-center mt-4">
	<div id="central-panel" class="flex-grow-1 container border shadow-sm rounded mx-4 px-4">
		<div class="m-3 d-flex flex-row justify-content-between align-self-center">
			<h1>{{doc.name}}</h1>
			<div *ngIf="doc.owner == sessionID" class="btn-group" role="group" aria-label="document control dashboard">
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#freezeModal">Freeze Version</button>
				<button type="button" class="btn btn-danger btn-sm">
					<i class="material-icons">delete</i>
				</button>
			</div>
		</div>

		<div id="pdf-container" (mousemove)="mouseMove($event)">
			<pdf-viewer id="pdf-viewer" [src]="path" class="shadow border"></pdf-viewer>
			<div id="overpdf" (click)="onPdfClick($event)"></div>
			<app-board *ngFor="let b of boards" [board]=b class="marker" [style.top]="b.reference.y" [style.left]="b.reference.x"></app-board>
		</div>

		<div class="modal fade" id="addCommentModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Add Comment</h5>
						<button type="button" class="close" data-dismiss="modal">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<form>
							<div class="form-group">
								<label for="commentTitle">Title</label>
								<input type="text" name="commentTitle" id="commentTitle" class="form-control" placeholder="Title" [(ngModel)]="commentTitleField">
							</div>
							<div class="form-group">
								<label for="commentField">Comment</label>
								<textarea name="comment" rows="10" cols="80" [(ngModel)]="commentField" class="form-control" id="commentField" [(ngModel)]="commentField"></textarea>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-success" (click)="onApply()">Apply</button>
						<button type="button" class="btn btn-danger" data-dismiss="modal">Discard</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="freezeModal" tabindex="-1" role="dialog" aria-labelledby="freezeModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Upload the new version</h5>
						<button type="button" class="close" data-dismiss="modal">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<form>
							<div class="form-group">
								<label for="commentTitle">Comment</label>
								<input type="text" name="freezeComment" id="freezeComment" class="form-control" placeholder="Comment" [(ngModel)]="freezeCommentField">
							</div>
							<div class="custom-file">
								<input (change)="fileChange($event)" type="file" name="freezeNewFile" class="custom-file-input" accept=".pdf" required>
								<label for="freezeNewFile" class="custom-file-label">Upload the next version in PDF</label>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" (click)="onApplyFreeze()">Load</button>
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Discard</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="lat-panel border shadow-sm rounded ml-4">
		<h3 class="m-3">Versioning</h3>
		<ul class="list-group list-group-flush">
			<li class="list-group-item" *ngFor="let version of versions">{{version.version}} - {{version.comment}}</li>
		</ul>
	</div>
</div>